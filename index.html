<!DOCTYPE html>
<html>
<head>
        
<meta charset="utf-8">
        
<title>Quadratic solver</title>
    
</head>

<body>

<h1>Solving quadratic equations</h1>
      
<h2>Input format</h2>
       
<p>The format for entering information is important. Get the equation into AX^2 + BX + C = 0 <br>
 A cannot equal 0, otherwise it will not be solved. Enter A, B and C into the appropriate boxes and click solve.
</p>

<form>
  Coefficient A:<br />
  <input name="inputA" type="text" /><br />
  Coefficient B:<br />
  <input name="inputB" type="text" /><br />
  Constant:<br />
  <input name="inputC" type="text" /><br />
  <input name="submit" type="submit" />
</form>

<script>

let test = prompt("Enter A");
let testTwo = prompt("Enter B");
let testThree = prompt("Enter C");
let inputA = test;
let inputB = testTwo;
let inputC = testThree;
let coefficientSqrt = 0;
let sqrtRemainder = 9999999;
let numberStorage = 0;
let possibleRemainders = [];
function simplestRadical(squareRootInteriorTwo) {
for (let c = 2; squareRootInteriorTwo/c/c > 1; c++) {
numberStorage = squareRootInteriorTwo/c/c;
if (Number.isInteger(numberStorage)) {
possibleRemainders.push(numberStorage);
}
}
for (let b = 0; b < possibleRemainders.length; b++) {
if (possibleRemainders[b] < sqrtRemainder) {
sqrtRemainder = possibleRemainders[b];
}
}
if (sqrtRemainder === 9999999) {
sqrtRemainder = squareRootInteriorTwo;
coefficientSqrt = 1
} else {
coefficientSqrt = Math.sqrt(squareRootInteriorTwo/sqrtRemainder);
}
}
function quadratic() {
let negativeB = 0;
let bSquared = 0;
let fourTimesATimesC = 0;
let squareRootInterior = 0;
let squareRoot = 0;
let denominator = 0;
let equationTopA = 0;
let equationTopB = 0;
let answerDecimalA = 0;
let answerDecimalB = 0;
let answerOne = 0;
var simplify = function (numerator, denominator){
var a = [];
for(var i=2; i<=denominator; i++){
if(!(denominator % i)){
a.push(i);
}
}
for(var s=a.length;s>=0;s=s-1){
if(!(numerator % a[s-1])){
var common = a[s-1];
break;
}
}
if (Number.isInteger(numerator/denominator)) {
return numerator/denominator;
} else if (isNaN(numerator/common)) {
return ""+numerator+"/"+denominator;
} else {
return ""+numerator/common+"/"+denominator/common;
}
};
negativeB = inputB * -1;
bSquared = inputB * inputB;
fourTimesATimesC = 4 * inputA * inputC;
squareRootInterior = bSquared - fourTimesATimesC;
denominator = 2 * inputA;
if (squareRootInterior < 0) {
squareRoot = Math.sqrt(squareRootInterior * -1);
} else {
squareRoot = Math.sqrt(squareRootInterior);
}
equationTopA =  negativeB + squareRoot;
equationTopB =  negativeB - squareRoot;
answerDecimalA = equationTopA / denominator;
answerDecimalB = equationTopB / denominator;
if (negativeB < 0 && denominator < 0) {
negativeB = negativeB * -1;
denominator = denominator * -1;
} else if (negativeB >= 0 && denominator < 0) {
negativeB = negativeB * -1;
denominator = denominator * -1;
}
answerOne = simplify(negativeB,denominator); 
if (squareRootInterior < 0) {
simplestRadical(squareRootInterior*-1); 
} else {
simplestRadical(squareRootInterior);
}
if (squareRootInterior < 0) {
if (Number.isInteger(squareRoot)) {
console.log(`X = ${answerOne} +/- ${simplify(squareRoot,denominator)} i`);
} else {
console.log(`X = ${answerOne} +/- (${simplify(coefficientSqrt,denominator)})sqrt(${sqrtRemainder}) i`);
}
} else {
if (Number.isInteger(squareRoot)) {
console.log(`X = ${answerOne} +/- ${simplify(squareRoot,denominator)}, X = ${answerDecimalA} or ${answerDecimalB}`);
} else {
console.log(`X = ${answerOne} +/- (${simplify(coefficientSqrt,denominator)})sqrt(${sqrtRemainder}), X = ${answerDecimalA} or ${answerDecimalB}`);
}
}
}
quadratic();

</script>

</body>

</html>
